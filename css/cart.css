/* cart.css */

.cart-section-container {
    background-color: white;
    border-radius: 12px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    /* 這裡的 padding 為了手機版滾動會調整到內層 */
    padding: 0; /* 在手機版我們會將內邊距移到 .cart-content-wrapper */
    margin-top: 30px;
    /* 讓整個容器在手機版可以水平滾動 */
    overflow-x: auto; /* 啟用水平滾動 */
    -webkit-overflow-scrolling: touch; /* 讓 iOS 上的滾動更流暢 */
}

/* 新增一個內部包裹層，確保它有足夠寬度來滾動 */
.cart-content-wrapper {
    min-width: 600px; /* 最小寬度，請根據實際內容調整此值，確保所有列都能顯示 */
    display: block; /* 確保它是一個塊級元素，可以包含網格內容 */
    padding: 20px; /* 將原先 .cart-section-container 的 padding 移到這裡 */
}

.cart-header {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr 1fr; /* 調整列寬 */
    gap: 10px;
    background-color: #7896AC;
    color: #fff;
    padding: 15px 20px;
    border-radius: 8px 8px 0 0; /* 頂部圓角 */
    font-weight: bold;
    text-align: center;
}

.cart-header-item {
    display: flex;
    align-items: center;
    justify-content: center;
}

.cart-header-item.product-col { text-align: left; justify-content: flex-start; }

.cart-item {
    display: grid; /* 大螢幕下的預設網格佈局 */
    grid-template-columns: 2fr 1fr 1fr 1fr 1fr; /* 與標題列寬一致 */
    gap: 10px;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 1px solid #eee;
    text-align: center;
}

.cart-item:last-child {
    border-bottom: none;
}

.cart-item-product {
    display: flex;
    align-items: center;
    gap: 15px;
    text-align: left;
}

.cart-item-img {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: 8px;
}

.cart-item-details {
    flex-grow: 1;
}

.cart-item-details h3 {
    margin: 0;
    font-size: 1.1em;
    color: #333;
}

.item-quantity {
    width: 60px;
    padding: 5px 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    text-align: center;
}

.remove-item-btn {
    background-color: #FEE986; /* 黃色按鈕 */
    color: #542D13; /* 棕色文字 */
    border: none;
    padding: 8px 15px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.3s ease;
}

.remove-item-btn:hover {
    background-color: #FFD54F;
}

.cart-summary-wrapper {
    padding: 20px;
    text-align: right;
    border-top: 1px solid #eee; /* 與商品列表的分隔線 */
    /* 在手機版我們會讓它固定在底部，所以需要移除一些樣式或調整 */
    background-color: white; /* 確保背景色，以免被滾動的內容覆蓋 */
    border-radius: 0 0 12px 12px; /* 底部圓角與容器匹配 */
    box-shadow: 0 -2px 5px rgba(0,0,0,0.03); /* 輕微陰影區隔 */
}

.cart-summary p {
    font-size: 1.5em;
    font-weight: bold;
    margin-bottom: 15px;
    color: #333;
}

.cart-summary span {
    color: #e91e63; /* 粉色總價 */
}

.checkout-btn {
    background-color: #FEE986;
    color: #542D13;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.checkout-btn:hover {
    background-color: #FFD54F;
}

.empty-cart-message {
    text-align: center;
    padding: 30px;
    font-size: 1.2em;
    color: #777;
    background-color: #f0f0f0;
    border-radius: 0 0 8px 8px; /* 底部圓角 */
}

/* 確保特定列的文字對齊方式 */
.cart-item .unit-price,
.cart-item .subtotal-price {
    text-align: center;
}


/* === 手機版響應式調整 (max-width: 768px) === */
@media (max-width: 768px) {
    /* 購物車容器本身用於滾動，內部內容會調整佈局 */
    .cart-section-container {
        /* overflow-x: auto; 和 -webkit-overflow-scrolling: touch; 已在上方通用設定 */
        border-radius: 12px; /* 保持容器圓角 */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* 保持容器陰影 */
    }

    /* 確保標頭和項目依然使用網格佈局並可水平滾動 */
    .cart-header,
    .cart-item {
        display: grid;
        grid-template-columns: 1.8fr 0.8fr 0.8fr 0.8fr 0.8fr; /* 調整列寬，使其在小螢幕下更緊湊 */
        gap: 8px; /* 減少間距 */
        padding: 12px 10px; /* 調整內邊距 */
        text-align: center;
    }

    .cart-header {
        border-radius: 0; /* 滾動區內的標頭不需要圓角 */
    }

    /* 商品圖片與名稱區塊 */
    .cart-item-product {
        flex-direction: column; /* 垂直堆疊圖片和文字 */
        align-items: center; /* 水平置中 */
        text-align: center; /* 文字置中 */
        gap: 5px; /* 進一步減少間距 */
    }

    .cart-item-img {
        width: 50px; /* 手機版圖片更小 */
        height: 50px;
    }

    .cart-item-details h3 {
        font-size: 0.9em; /* 商品名稱字體更小 */
        white-space: nowrap; /* 防止名稱換行 */
        overflow: hidden;
        text-overflow: ellipsis; /* 超出部分顯示省略號 */
        max-width: 100%; /* 確保名稱不會撐開容器 */
    }

    /* 數量輸入框 */
    .item-quantity {
        width: 45px; /* 調整寬度 */
        padding: 3px;
        font-size: 0.85em;
    }

    /* 刪除按鈕 */
    .remove-item-btn {
        padding: 5px 8px; /* 調整內邊距 */
        font-size: 0.85em;
        white-space: nowrap; /* 防止按鈕文字換行 */
    }

    /* 隱藏手機版下的數據標籤，因為現在有標頭了 */
    .unit-price::before,
    .quantity-control::before,
    .subtotal-price::before {
        content: none;
    }

    /* 購物車小計和結帳按鈕 (會固定在下方，不隨滾動) */
    .cart-summary-wrapper {
        text-align: center; /* 讓總計和按鈕置中 */
        padding: 15px; /* 調整內邊距 */
        border-top: 1px solid #eee;
        margin-top: 0; /* 確保沒有額外外邊距 */
        position: sticky; /* 嘗試讓它固定，但需要父元素有設定高度或行為 */
        bottom: 0;
        z-index: 10; /* 確保在滾動內容上方 */
    }

    .cart-summary p {
        font-size: 1.2em; /* 總計字體大小 */
        margin-bottom: 8px;
    }

    .checkout-btn {
        width: 90%; /* 按鈕佔據更多寬度 */
        max-width: 280px; /* 限制最大寬度 */
        padding: 10px 0;
        font-size: 1em;
    }

    .empty-cart-message {
        border-radius: 0 0 12px 12px; /* 底部圓角與外層容器匹配 */
        padding: 20px 10px; /* 調整內邊距 */
    }
}